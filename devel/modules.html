<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>arangojs</title><meta name="description" content="Documentation for arangojs"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">arangojs</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>arangojs </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<pre><code class="language-js"><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">arangojs</span><span class="hl-1">, { </span><span class="hl-2">aql</span><span class="hl-1">, </span><span class="hl-2">Database</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;arangojs&quot;</span><span class="hl-1">;</span>
</code></pre>
</div><div><p>The &quot;index&quot; module is the default entry point when importing the arangojs
module or using the web build in the browser.</p>
<p>If you are just getting started, you probably want to use the
<a href="modules.html">arangojs</a> function, which is also the default export of this module,
or the <a href="classes/Database.html">Database</a> class for which it is a wrapper.</p>
</div></div></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>References</h3><ul class="tsd-index-list"><li class="tsd-kind-reference"><a href="modules.html#default" class="tsd-kind-icon">default</a></li></ul></section><section class="tsd-index-section "><h3>Namespaces</h3><ul class="tsd-index-list"><li class="tsd-kind-namespace"><a href="modules/aql.html" class="tsd-kind-icon">aql</a></li></ul></section><section class="tsd-index-section "><h3>Enumerations</h3><ul class="tsd-index-list"><li class="tsd-kind-enum"><a href="enums/CollectionStatus.html" class="tsd-kind-icon">Collection<wbr/>Status</a></li><li class="tsd-kind-enum"><a href="enums/CollectionType.html" class="tsd-kind-icon">Collection<wbr/>Type</a></li><li class="tsd-kind-enum"><a href="enums/ViewType.html" class="tsd-kind-icon">View<wbr/>Type</a></li></ul></section><section class="tsd-index-section "><h3>Classes</h3><ul class="tsd-index-list"><li class="tsd-kind-class"><a href="classes/Database.html" class="tsd-kind-icon">Database</a></li></ul></section><section class="tsd-index-section "><h3>Functions</h3><ul class="tsd-index-list"><li class="tsd-kind-function"><a href="modules.html#aql" class="tsd-kind-icon">aql</a></li><li class="tsd-kind-function"><a href="modules.html#arangojs" class="tsd-kind-icon">arangojs</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>References</h2><section class="tsd-panel tsd-member tsd-kind-reference"><a id="default" class="tsd-anchor"></a><h3 class="tsd-anchor-link">default<a href="#default" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3>Renames and re-exports <a href="modules.html#arangojs">arangojs</a></section></section><section class="tsd-panel-group tsd-member-group "><h2>Functions</h2><section class="tsd-panel tsd-member tsd-kind-function"><a id="aql" class="tsd-anchor"></a><h3 class="tsd-anchor-link">aql<a href="#aql" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function"><li class="tsd-signature tsd-kind-icon">aql<span class="tsd-signature-symbol">(</span>templateStrings<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TemplateStringsArray</span>, <span class="tsd-signature-symbol">...</span>args<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AqlValue</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">GeneratedAqlQuery</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead">
<p>Template string handler (template tag) for AQL queries.</p>
</div><div><p>The <code>aql</code> tag can be used to write complex AQL queries as multi-line strings
without having to worry about <code>bindVars</code> and the distinction between
collections and regular parameters.</p>
<p>Tagged template strings will return an {@link AqlQuery} object with
<code>query</code> and <code>bindVars</code> attributes reflecting any interpolated values.</p>
<p>Any {@link ArangoCollection} instance used in a query string will be
recognized as a collection reference and generate an AQL collection bind
parameter instead of a regular AQL value bind parameter.</p>
<p><strong>Note</strong>: you should always use the <code>aql</code> template tag when writing
dynamic AQL queries instead of using untagged (normal) template strings.
Untagged template strings will inline any interpolated values and return
a plain string as result. The <code>aql</code> template tag will only inline references
to the interpolated values and produce an AQL query object containing both
the query and the values. This prevents most injection attacks when using
untrusted values in dynamic queries.</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><pre><code class="language-js"><span class="hl-4">// Some user-supplied string that may be malicious</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">untrustedValue</span><span class="hl-1"> = </span><span class="hl-2">req</span><span class="hl-1">.</span><span class="hl-2">body</span><span class="hl-1">.</span><span class="hl-2">email</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Without aql tag: BAD! DO NOT DO THIS!</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">badQuery</span><span class="hl-1"> = </span><span class="hl-3">`</span><br/><span class="hl-3">  FOR user IN users</span><br/><span class="hl-3">  FILTER user.email == &quot;</span><span class="hl-5">${</span><span class="hl-2">untrustedValue</span><span class="hl-5">}</span><span class="hl-3">&quot;</span><br/><span class="hl-3">  RETURN user</span><br/><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-4">// e.g. if untrustedValue is &#39;&quot; || user.admin == true || &quot;&#39;:</span><br/><span class="hl-4">// Query:</span><br/><span class="hl-4">//   FOR user IN users</span><br/><span class="hl-4">//   FILTER user.email == &quot;&quot; || user.admin == true || &quot;&quot;</span><br/><span class="hl-4">//   RETURN user</span><br/><br/><span class="hl-4">// With the aql tag: GOOD! MUCH SAFER!</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">betterQuery</span><span class="hl-1"> = </span><span class="hl-7">aql</span><span class="hl-3">`</span><br/><span class="hl-3">  FOR user IN users</span><br/><span class="hl-3">  FILTER user.email == </span><span class="hl-5">${</span><span class="hl-2">untrustedValue</span><span class="hl-5">}</span><br/><span class="hl-3">  RETURN user</span><br/><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-4">// Query:</span><br/><span class="hl-4">//   FOR user IN users</span><br/><span class="hl-4">//   FILTER user.email == @value0</span><br/><span class="hl-4">//   RETURN user</span><br/><span class="hl-4">// Bind parameters:</span><br/><span class="hl-4">//   value0 -&gt; untrustedValue</span>
</code></pre>
</dd><dt>example</dt><dd><pre><code class="language-js"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">collection</span><span class="hl-1"> = </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">collection</span><span class="hl-1">(</span><span class="hl-3">&quot;some-collection&quot;</span><span class="hl-1">);</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">minValue</span><span class="hl-1"> = </span><span class="hl-8">23</span><span class="hl-1">;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">query</span><span class="hl-1">(</span><span class="hl-7">aql</span><span class="hl-3">`</span><br/><span class="hl-3">  FOR d IN </span><span class="hl-5">${</span><span class="hl-2">collection</span><span class="hl-5">}</span><br/><span class="hl-3">  FILTER d.num &gt; </span><span class="hl-5">${</span><span class="hl-2">minValue</span><span class="hl-5">}</span><br/><span class="hl-3">  RETURN d</span><br/><span class="hl-3">`</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Equivalent raw query object</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result2</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">query</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">query:</span><span class="hl-1"> </span><span class="hl-3">`</span><br/><span class="hl-3">    FOR d IN @@collection</span><br/><span class="hl-3">    FILTER d.num &gt; @minValue</span><br/><span class="hl-3">    RETURN d</span><br/><span class="hl-3">  `</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">bindVars:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;@collection&quot;</span><span class="hl-2">:</span><span class="hl-1"> </span><span class="hl-2">collection</span><span class="hl-1">.</span><span class="hl-2">name</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">minValue:</span><span class="hl-1"> </span><span class="hl-2">minValue</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code></pre>
</dd><dt>example</dt><dd><pre><code class="language-js"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">collection</span><span class="hl-1"> = </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">collection</span><span class="hl-1">(</span><span class="hl-3">&quot;some-collection&quot;</span><span class="hl-1">);</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">color</span><span class="hl-1"> = </span><span class="hl-3">&quot;green&quot;</span><span class="hl-1">;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">filter</span><span class="hl-1"> = </span><span class="hl-7">aql</span><span class="hl-3">`FILTER d.color == </span><span class="hl-5">${</span><span class="hl-2">color</span><span class="hl-5">}</span><span class="hl-3">&#39;`</span><span class="hl-1">;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">query</span><span class="hl-1">(</span><span class="hl-7">aql</span><span class="hl-3">`</span><br/><span class="hl-3">  FOR d IN </span><span class="hl-5">${</span><span class="hl-2">collection</span><span class="hl-5">}</span><br/><span class="hl-3">  </span><span class="hl-5">${</span><span class="hl-2">filter</span><span class="hl-5">}</span><br/><span class="hl-3">  RETURN d</span><br/><span class="hl-3">`</span><span class="hl-1">);</span>
</code></pre>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>templateStrings: <span class="tsd-signature-type">TemplateStringsArray</span></h5></li><li><h5><span class="tsd-flag ts-flagRest">Rest</span> <span class="tsd-signature-symbol">...</span>args: <span class="tsd-signature-type">AqlValue</span><span class="tsd-signature-symbol">[]</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">GeneratedAqlQuery</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function"><a id="arangojs" class="tsd-anchor"></a><h3 class="tsd-anchor-link">arangojs<a href="#arangojs" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function"><li class="tsd-signature tsd-kind-icon">arangojs<span class="tsd-signature-symbol">(</span>config<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Config</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="classes/Database.html" class="tsd-signature-type" data-tsd-kind="Class">Database</a></li><li class="tsd-signature tsd-kind-icon">arangojs<span class="tsd-signature-symbol">(</span>url<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span>, name<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="classes/Database.html" class="tsd-signature-type" data-tsd-kind="Class">Database</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead">
<p>Creates a new <code>Database</code> instance with its own connection pool.</p>
</div><div><p>This is a wrapper function for the <a href="classes/Database.html#constructor">Database.constructor</a>.</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><pre><code class="language-js"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-7">arangojs</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">url:</span><span class="hl-1"> </span><span class="hl-3">&quot;http://127.0.0.1:8529&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">databaseName:</span><span class="hl-1"> </span><span class="hl-3">&quot;myDatabase&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">auth:</span><span class="hl-1"> { </span><span class="hl-2">username:</span><span class="hl-1"> </span><span class="hl-3">&quot;admin&quot;</span><span class="hl-1">, </span><span class="hl-2">password:</span><span class="hl-1"> </span><span class="hl-3">&quot;hunter2&quot;</span><span class="hl-1"> },</span><br/><span class="hl-1">});</span>
</code></pre>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> config: <span class="tsd-signature-type">Config</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>An object with configuration options.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="classes/Database.html" class="tsd-signature-type" data-tsd-kind="Class">Database</a></h4></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead">
<p>Creates a new <code>Database</code> instance with its own connection pool.</p>
</div><div><p>This is a wrapper function for the <a href="classes/Database.html#constructor">Database.constructor</a>.</p>
</div><dl class="tsd-comment-tags"><dt>example</dt><dd><pre><code class="language-js"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = </span><span class="hl-7">arangojs</span><span class="hl-1">(</span><span class="hl-3">&quot;http://127.0.0.1:8529&quot;</span><span class="hl-1">, </span><span class="hl-3">&quot;myDatabase&quot;</span><span class="hl-1">);</span><br/><span class="hl-2">db</span><span class="hl-1">.</span><span class="hl-7">useBasicAuth</span><span class="hl-1">(</span><span class="hl-3">&quot;admin&quot;</span><span class="hl-1">, </span><span class="hl-3">&quot;hunter2&quot;</span><span class="hl-1">);</span>
</code></pre>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>url: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Base URL of the ArangoDB server or list of server URLs.
Equivalent to the <code>url</code> option in {@link Config}.</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> name: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="classes/Database.html" class="tsd-signature-type" data-tsd-kind="Class">Database</a></h4></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li><li class=" tsd-kind-namespace"><a href="modules/aql.html">aql</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-reference"><a href="modules.html#default" class="tsd-kind-icon">default</a></li><li class="tsd-kind-enum"><a href="enums/CollectionStatus.html" class="tsd-kind-icon">Collection<wbr/>Status</a></li><li class="tsd-kind-enum"><a href="enums/CollectionType.html" class="tsd-kind-icon">Collection<wbr/>Type</a></li><li class="tsd-kind-enum"><a href="enums/ViewType.html" class="tsd-kind-icon">View<wbr/>Type</a></li><li class="tsd-kind-class"><a href="classes/Database.html" class="tsd-kind-icon">Database</a></li><li class="tsd-kind-function"><a href="modules.html#aql" class="tsd-kind-icon">aql</a></li><li class="tsd-kind-function"><a href="modules.html#arangojs" class="tsd-kind-icon">arangojs</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>