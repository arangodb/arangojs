!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.arangojs=e():t.arangojs=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=7)}([function(t,e,n){"use strict";var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":r(window))&&(o=window)}t.exports=o},function(t,e,n){"use strict";function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){return new(e.type===f.EDGE_COLLECTION?y:h)(t,e.name)}Object.defineProperty(e,"__esModule",{value:!0}),e._types=e._BaseCollection=e.DocumentCollection=e.EdgeCollection=e.types=void 0;var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();e.default=a;var c=n(2),l=function(t){return t&&t.__esModule?t:{default:t}}(c),f=e.types={DOCUMENT_COLLECTION:2,EDGE_COLLECTION:3},p=function(){function t(e,n){i(this,t),this.name=n,this._urlPrefix="/collection/"+n+"/",this._idPrefix=n+"/",this._connection=e,this._api=this._connection.route("/_api"),this._connection.arangoMajor>=3&&(this.first=void 0,this.last=void 0,this.createCapConstraint=void 0)}return s(t,[{key:"_documentHandle",value:function(t){if("string"!=typeof t){if(t._id)return t._id;if(t._key)return this._idPrefix+t._key;throw new Error("Document handle must be a document or string")}return-1===t.indexOf("/")?this._idPrefix+t:t}},{key:"_indexHandle",value:function(t){if("string"!=typeof t){if(t.id)return t.id;throw new Error("Document handle must be a document or string")}return-1===t.indexOf("/")?this._idPrefix+t:t}},{key:"_get",value:function(t,e,n){"function"==typeof e&&(n=e,e=void 0);var o=this._connection.promisify(n),r=o.promise,i=o.callback;return this._api.get(this._urlPrefix+t,e,function(t,e){return t?i(t):i(null,e.body)}),r}},{key:"_put",value:function(t,e,n){var o=this._connection.promisify(n),r=o.promise,i=o.callback;return this._api.put(this._urlPrefix+t,e,function(t,e){return t?i(t):i(null,e.body)}),r}},{key:"get",value:function(t){var e=this._connection.promisify(t),n=e.promise,o=e.callback;return this._api.get("/collection/"+this.name,function(t,e){return t?o(t):o(null,e.body)}),n}},{key:"create",value:function(t,e){"function"==typeof t&&(e=t,t=void 0);var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._api.post("/collection",u({},t,{name:this.name,type:this.type}),function(t,e){return t?r(t):r(null,e.body)}),o}},{key:"properties",value:function(t){return this._get("properties",t)}},{key:"count",value:function(t){return this._get("count",t)}},{key:"figures",value:function(t){return this._get("figures",t)}},{key:"revision",value:function(t){return this._get("revision",t)}},{key:"checksum",value:function(t,e){return this._get("checksum",t,e)}},{key:"load",value:function(t,e){return"function"==typeof t&&(e=t,t=void 0),this._put("load","boolean"==typeof t?{count:t}:void 0,e)}},{key:"unload",value:function(t){return this._put("unload",void 0,t)}},{key:"setProperties",value:function(t,e){return this._put("properties",t,e)}},{key:"rename",value:function(t,e){var n=this,o=this._connection.promisify(e),r=o.promise,i=o.callback;return this._api.put(this._urlPrefix+"rename",{name:t},function(e,o){e?i(e):(n.name=t,n._idPrefix=t+"/",n._urlPrefix="/collection/"+t+"/",i(null,o.body))}),r}},{key:"rotate",value:function(t){return this._put("rotate",void 0,t)}},{key:"truncate",value:function(t){return this._put("truncate",void 0,t)}},{key:"drop",value:function(t,e){"function"==typeof t&&(e=t,t=void 0);var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._api.delete("/collection/"+this.name,t,function(t,e){return t?r(t):r(null,e.body)}),o}},{key:"replace",value:function(t,e,n,o){"function"==typeof n&&(o=n,n=void 0),"string"==typeof n&&(n={rev:n});var r=this._connection.promisify(o),i=r.promise,a=r.callback,u=n&&n.rev,s=u&&this._connection.arangoMajor>=3?{"if-match":u}:void 0;return this._api.put(this._documentPath(t),e,n,s,function(t,e){return t?a(t):a(null,e.body)}),i}},{key:"update",value:function(t,e,n,o){"function"==typeof n&&(o=n,n=void 0),"string"==typeof n&&(n={rev:n});var r=this._connection.promisify(o),i=r.promise,a=r.callback,u=n&&n.rev,s=u&&this._connection.arangoMajor>=3?{"if-match":u}:void 0;return this._api.patch(this._documentPath(t),e,n,s,function(t,e){return t?a(t):a(null,e.body)}),i}},{key:"bulkUpdate",value:function(t,e,n){"function"==typeof e&&(n=e,e=void 0),"string"==typeof e&&(e={rev:e});var o=this._connection.promisify(n),r=o.promise,i=o.callback;return this._api.patch("/document/"+this.name,t,e,function(t,e){return t?i(t):i(null,e.body)}),r}},{key:"remove",value:function(t,e,n){"function"==typeof e&&(n=e,e=void 0),"string"==typeof e&&(e={rev:e});var o=this._connection.promisify(n),r=o.promise,i=o.callback,a=e&&e.rev,u=a&&this._connection.arangoMajor>=3?{"if-match":a}:void 0;return this._api.delete(this._documentPath(t),e,u,function(t,e){return t?i(t):i(null,e.body)}),r}},{key:"list",value:function(t,e){"function"==typeof t&&(e=t,t=void 0),t||(t="id");var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._connection.arangoMajor<3?this._api.get("/document",{type:t,collection:this.name},function(t,e){return t?r(t):r(null,e.body.documents)}):this._api.put("/simple/all-keys",{type:t,collection:this.name},function(t,e){return t?r(t):r(null,e.body.result)}),o}},{key:"all",value:function(t,e){var n=this;"function"==typeof t&&(e=t,t=void 0);var o=this._connection.promisify(e),r=o.promise,i=o.callback;return this._api.put("/simple/all",u({},t,{collection:this.name}),function(t,e){return t?i(t):i(null,new l.default(n._connection,e.body))}),r}},{key:"any",value:function(t){var e=this._connection.promisify(t),n=e.promise,o=e.callback;return this._api.put("/simple/any",{collection:this.name},function(t,e){return t?o(t):o(null,e.body.document)}),n}},{key:"first",value:function(t,e){"function"==typeof t&&(e=t,t=void 0),"number"==typeof t&&(t={count:t});var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._api.put("/simple/first",u({},t,{collection:this.name}),function(t,e){return t?r(t):r(null,e.body.result)}),o}},{key:"last",value:function(t,e){"function"==typeof t&&(e=t,t=void 0),"number"==typeof t&&(t={count:t});var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._api.put("/simple/last",u({},t,{collection:this.name}),function(t,e){return t?r(t):r(null,e.body.result)}),o}},{key:"byExample",value:function(t,e,n){var o=this;"function"==typeof e&&(n=e,e=void 0);var r=this._connection.promisify(n),i=r.promise,a=r.callback;return this._api.put("/simple/by-example",u({},e,{example:t,collection:this.name}),function(t,e){return t?a(t):a(null,new l.default(o._connection,e.body))}),i}},{key:"firstExample",value:function(t,e){var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._api.put("/simple/first-example",{example:t,collection:this.name},function(t,e){return t?r(t):r(null,e.body.document)}),o}},{key:"removeByExample",value:function(t,e,n){"function"==typeof e&&(n=e,e=void 0);var o=this._connection.promisify(n),r=o.promise,i=o.callback;return this._api.put("/simple/remove-by-example",u({},e,{example:t,collection:this.name}),function(t,e){return t?i(t):i(null,e.body)}),r}},{key:"replaceByExample",value:function(t,e,n,o){"function"==typeof n&&(o=n,n=void 0);var r=this._connection.promisify(o),i=r.promise,a=r.callback;return this._api.put("/simple/replace-by-example",u({},n,{example:t,newValue:e,collection:this.name}),function(t,e){return t?a(t):a(null,e.body)}),i}},{key:"updateByExample",value:function(t,e,n,o){"function"==typeof n&&(o=n,n=void 0);var r=this._connection.promisify(o),i=r.promise,a=r.callback;return this._api.put("/simple/update-by-example",u({},n,{example:t,newValue:e,collection:this.name}),function(t,e){return t?a(t):a(null,e.body)}),i}},{key:"lookupByKeys",value:function(t,e){var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._api.put("/simple/lookup-by-keys",{keys:t,collection:this.name},function(t,e){return t?r(t):r(null,e.body.documents)}),o}},{key:"removeByKeys",value:function(t,e,n){"function"==typeof e&&(n=e,e=void 0);var o=this._connection.promisify(n),r=o.promise,i=o.callback;return this._api.put("/simple/remove-by-keys",{options:e,keys:t,collection:this.name},function(t,e){return t?i(t):i(null,e.body)}),r}},{key:"import",value:function(t,e,n){"function"==typeof e&&(n=e,e=void 0);var o=this._connection.promisify(n),r=o.promise,i=o.callback;return this._api.request({method:"POST",path:"/import",body:t,ld:Boolean(!e||"array"!==e.type),qs:u({type:"auto"},e,{collection:this.name})},function(t,e){return t?i(t):i(null,e.body)}),r}},{key:"indexes",value:function(t){var e=this._connection.promisify(t),n=e.promise,o=e.callback;return this._api.get("/index",{collection:this.name},function(t,e){return t?o(t):o(null,e.body.indexes)}),n}},{key:"index",value:function(t,e){var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._api.get("/index/"+this._indexHandle(t),function(t,e){return t?r(t):r(null,e.body)}),o}},{key:"createIndex",value:function(t,e){var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._api.post("/index",t,{collection:this.name},function(t,e){return t?r(t):r(null,e.body)}),o}},{key:"dropIndex",value:function(t,e){var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._api.delete("/index/"+this._indexHandle(t),function(t,e){return t?r(t):r(null,e.body)}),o}},{key:"createCapConstraint",value:function(t,e){"number"==typeof t&&(t={size:t});var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._api.post("/index",u({},t,{type:"cap"}),{collection:this.name},function(t,e){return t?r(t):r(null,e.body)}),o}},{key:"createHashIndex",value:function(t,e,n){"function"==typeof e&&(n=e,e=void 0),"string"==typeof t&&(t=[t]),"boolean"==typeof e&&(e={unique:e});var o=this._connection.promisify(n),r=o.promise,i=o.callback;return this._api.post("/index",u({unique:!1},e,{type:"hash",fields:t}),{collection:this.name},function(t,e){return t?i(t):i(null,e.body)}),r}},{key:"createSkipList",value:function(t,e,n){"function"==typeof e&&(n=e,e=void 0),"string"==typeof t&&(t=[t]),"boolean"==typeof e&&(e={unique:e});var o=this._connection.promisify(n),r=o.promise,i=o.callback;return this._api.post("/index",u({unique:!1},e,{type:"skiplist",fields:t}),{collection:this.name},function(t,e){return t?i(t):i(null,e.body)}),r}},{key:"createPersistentIndex",value:function(t,e,n){"function"==typeof e&&(n=e,e=void 0),"string"==typeof t&&(t=[t]),"boolean"==typeof e&&(e={unique:e});var o=this._connection.promisify(n),r=o.promise,i=o.callback;return this._api.post("/index",u({unique:!1},e,{type:"persistent",fields:t}),{collection:this.name},function(t,e){return t?i(t):i(null,e.body)}),r}},{key:"createGeoIndex",value:function(t,e,n){"function"==typeof e&&(n=e,e=void 0),"string"==typeof t&&(t=[t]);var o=this._connection.promisify(n),r=o.promise,i=o.callback;return this._api.post("/index",u({},e,{fields:t,type:"geo"}),{collection:this.name},function(t,e){return t?i(t):i(null,e.body)}),r}},{key:"createFulltextIndex",value:function(t,e,n){"function"==typeof e&&(n=e,e=void 0),"string"==typeof t&&(t=[t]),e&&(e=Number(e));var o=this._connection.promisify(n),r=o.promise,i=o.callback;return this._api.post("/index",{fields:t,minLength:e,type:"fulltext"},{collection:this.name},function(t,e){return t?i(t):i(null,e.body)}),r}},{key:"fulltext",value:function(t,e,n,o){var r=this;"function"==typeof n&&(o=n,n=void 0),n||(n={}),n.index&&(n.index=this._indexHandle(n.index));var i=this._connection.promisify(o),a=i.promise,s=i.callback;return this._api.put("/simple/fulltext",u({},n,{attribute:t,query:e,collection:this.name}),function(t,e){return t?s(t):s(null,new l.default(r._connection,e.body))}),a}}]),t}();p.prototype.isArangoCollection=!0;var h=function(t){function e(){var t;i(this,e);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var u=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(r)));return u.type=f.DOCUMENT_COLLECTION,u}return r(e,t),s(e,[{key:"_documentPath",value:function(t){return"/document/"+this._documentHandle(t)}},{key:"document",value:function(t,e){var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._api.get(this._documentPath(t),function(t,e){return t?r(t):r(null,e.body)}),o}},{key:"save",value:function(t,e,n){"function"==typeof e&&(n=e,e=void 0),"boolean"==typeof e&&(e={returnNew:e});var o=this._connection.promisify(n),r=o.promise,i=o.callback;return this._connection.arangoMajor>=3?this._api.post("/document/"+this.name,t,e,function(t,e){return t?i(t):i(null,e.body)}):(e||(e={}),e.collection=this.name,this._api.post("/document",t,e,function(t,e){return t?i(t):i(null,e.body)})),r}}]),e}(p),y=function(t){function e(){var t;i(this,e);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var u=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(r)));return u.type=f.EDGE_COLLECTION,u}return r(e,t),s(e,[{key:"_documentPath",value:function(t){return this._connection.arangoMajor<3?"edge/"+this._documentHandle(t):"document/"+this._documentHandle(t)}},{key:"edge",value:function(t,e){var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._api.get(this._documentPath(t),function(t,e){return t?r(t):r(null,e.body)}),o}},{key:"save",value:function(t,e,n,o){"function"==typeof e?(o=e,e=void 0):e&&(t._from=this._documentHandle(e),t._to=this._documentHandle(n));var r=this._connection.promisify(o),i=r.promise,a=r.callback;return this._connection.arangoMajor<3?this._api.post("/edge",t,{collection:this.name,from:t._from,to:t._to},function(t,e){return t?a(t):a(null,e.body)}):this._api.post("/document",t,{collection:this.name},function(t,e){return t?a(t):a(null,e.body)}),i}},{key:"_edges",value:function(t,e,n){var o=this._connection.promisify(n),r=o.promise,i=o.callback;return this._api.get("/edges/"+this.name,{direction:e,vertex:this._documentHandle(t)},function(t,e){return t?i(t):i(null,e.body.edges)}),r}},{key:"edges",value:function(t,e){return this._edges(t,void 0,e)}},{key:"inEdges",value:function(t,e){return this._edges(t,"in",e)}},{key:"outEdges",value:function(t,e){return this._edges(t,"out",e)}},{key:"traversal",value:function(t,e,n){"function"==typeof e&&(n=e,e=void 0);var o=this._connection.promisify(n),r=o.promise,i=o.callback;return this._api.post("/traversal",u({},e,{startVertex:t,edgeCollection:this.name}),function(t,e){return t?i(t):i(null,e.body.result)}),r}}]),e}(p);e.EdgeCollection=y,e.DocumentCollection=h,e._BaseCollection=p,e._types=f},function(t,e,n){"use strict";function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=function(){function t(e,n){r(this,t),this.extra=n.extra,this._connection=e,this._api=this._connection.route("/_api"),this._result=n.result,this._hasMore=Boolean(n.hasMore),this._id=n.id,this.count=n.count}return i(t,[{key:"_drain",value:function(t){var e=this,n=this._connection.promisify(t),o=n.promise,r=n.callback;return this._more(function(n){return n?r(n):e._hasMore?e._drain(t):r(null,e)}),o}},{key:"_more",value:function(t){var e=this;this._hasMore?this._api.put("/cursor/"+this._id,function(n,r){if(n)t(n);else{var i;(i=e._result).push.apply(i,o(r.body.result)),e._hasMore=r.body.hasMore,t(null,e)}}):t(null,this)}},{key:"all",value:function(t){var e=this,n=this._connection.promisify(t),o=n.promise,r=n.callback;return this._drain(function(t){if(t)r(t);else{var n=e._result;e._result=[],r(null,n)}}),o}},{key:"next",value:function(t){var e=this,n=this._connection.promisify(t),o=n.promise,r=n.callback,i=function(){var t=e._result.shift();r(null,t)};return this._result.length?i():this._hasMore?this._more(function(t){return t?r(t):i()}):r(null),o}},{key:"hasNext",value:function(){return Boolean(this._hasMore||this._result.length)}},{key:"each",value:function(t,e){var n=this,o=this._connection.promisify(e),r=o.promise,i=o.callback,a=0;return function e(){try{for(var o=void 0;n._result.length&&(o=t(n._result.shift(),a,n),a++,!1!==o););n._hasMore&&!1!==o?n._more(function(t){return t?i(t):e()}):i(null,o)}catch(t){i(t)}}(),r}},{key:"every",value:function(t,e){var n=this,o=this._connection.promisify(e),r=o.promise,i=o.callback,a=0;return function e(){try{for(var o=!0;n._result.length&&(o=t(n._result.shift(),a,n),a++,o););n._hasMore&&o?n._more(function(t){return t?i(t):e()}):i(null,Boolean(o))}catch(t){i(t)}}(),r}},{key:"some",value:function(t,e){var n=this,o=this._connection.promisify(e),r=o.promise,i=o.callback,a=0;return function e(){try{for(var o=!1;n._result.length&&(o=t(n._result.shift(),a,n),a++,!o););!n._hasMore||o?i(null,Boolean(o)):n._more(function(t){return t?i(t):e()})}catch(t){i(t)}}(),r}},{key:"map",value:function(t,e){var n=this,o=this._connection.promisify(e),r=o.promise,i=o.callback,a=0,u=[];return function e(){try{for(;n._result.length;)u.push(t(n._result.shift(),a,n)),a++;n._hasMore?n._more(function(t){return t?i(t):e()}):i(null,u)}catch(t){i(t)}}(),r}},{key:"reduce",value:function(t,e,n){var o=this;"function"==typeof e&&(n=e,e=void 0);var r=0,i=this._connection.promisify(n),a=i.promise,u=i.callback,s=function n(){try{for(;o._result.length;)e=t(e,o._result.shift(),r,o),r++;o._hasMore?o._more(function(t){return t?u(t):n()}):u(null,e)}catch(t){u(t)}};return void 0!==e?s():this._result.length>1?(e=this._result.shift(),r=1,s()):this._more(function(t){t?u(t):(e=o._result.shift(),r=1,s())}),a}}]),t}();e.default=a},function(t,e,n){"use strict";e.decode=e.parse=n(16),e.encode=e.stringify=n(17)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=window.btoa},function(t,e,n){"use strict";function o(t){var e=r.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}t.exports=o;var r=Object.prototype.toString},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var r=n(8),i=o(r),a=n(44),u=o(a);t.exports=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return new(Function.prototype.bind.apply(i.default,[null].concat(e)))},t.exports.Database=i.default,t.exports.aqlQuery=t.exports.aql=u.default},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n={};for(var o in t)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=n(1),c=o(s),l=n(2),f=o(l),p=n(9),h=o(p),y=n(41),d=o(y),m=n(42),v=o(m),b=n(4),_=o(b),g=n(43),k=o(g),w=function(){function t(e){i(this,t),this._connection=new h.default(e),this._api=this._connection.route("/_api"),this.name=this._connection.config.databaseName}return u(t,[{key:"route",value:function(t,e){return this._connection.route(t,e)}},{key:"useDatabase",value:function(t){if(!1===this._connection.config.databaseName)throw new Error("Can not change database from absolute URL");return this._connection.config.databaseName=t,this._connection._databasePath="/_db/"+t,this.name=t,this}},{key:"useBearerAuth",value:function(t){return this._connection.config.headers.authorization="Bearer "+t,this}},{key:"useBasicAuth",value:function(t,e){return this._connection.config.headers.authorization="Basic "+(0,_.default)((t||"root")+":"+(e||"")),this}},{key:"get",value:function(t){var e=this._connection.promisify(t),n=e.promise,o=e.callback;return this._api.get("/database/current",function(t,e){return t?o(t):o(null,e.body.result)}),n}},{key:"createDatabase",value:function(t,e,n){"function"==typeof e&&(n=e,e=void 0);var o=this._connection.promisify(n),r=o.promise,i=o.callback;return this._api.post("/database",{users:e,name:t},function(t,e){return t?i(t):i(null,e.body)}),r}},{key:"listDatabases",value:function(t){var e=this._connection.promisify(t),n=e.promise,o=e.callback;return this._api.get("/database",function(t,e){return t?o(t):o(null,e.body.result)}),n}},{key:"listUserDatabases",value:function(t){var e=this._connection.promisify(t),n=e.promise,o=e.callback;return this._api.get("/database/user",function(t,e){return t?o(t):o(null,e.body.result)}),n}},{key:"dropDatabase",value:function(t,e){var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._api.delete("/database/"+t,function(t,e){return t?r(t):r(null,e.body)}),o}},{key:"collection",value:function(t){return new s.DocumentCollection(this._connection,t)}},{key:"edgeCollection",value:function(t){return new s.EdgeCollection(this._connection,t)}},{key:"listCollections",value:function(t,e){"function"==typeof t&&(e=t,t=void 0);var n=this._connection.promisify(e),o=n.promise,r=n.callback;"boolean"!=typeof t&&(t=!0);var i=this._connection.arangoMajor<3?"collections":"result";return this._api.get("/collection",{excludeSystem:t},function(t,e){return t?r(t):r(null,e.body[i])}),o}},{key:"collections",value:function(t,e){var n=this;"function"==typeof t&&(e=t,t=void 0);var o=this._connection.promisify(e),r=o.promise,i=o.callback;return this.listCollections(t,function(t,e){return t?i(t):i(null,e.map(function(t){return(0,c.default)(n._connection,t)}))}),r}},{key:"truncate",value:function(t,e){var n=this;"function"==typeof t&&(e=t);var o=this._connection.promisify(e),r=o.promise,i=o.callback;return this.listCollections(!0,function(t,e){return t?i(t):(0,v.default)(e.map(function(t){return function(e){return n._api.put("/collection/"+t.name+"/truncate",function(t,n){return t?e(t):e(null,n.body)})}}),i)}),r}},{key:"graph",value:function(t){return new d.default(this._connection,t)}},{key:"listGraphs",value:function(t){var e=this._connection.promisify(t),n=e.promise,o=e.callback;return this._api.get("/gharial",function(t,e){return t?o(t):o(null,e.body.graphs)}),n}},{key:"graphs",value:function(t){var e=this,n=this._connection.promisify(t),o=n.promise,r=n.callback;return this.listGraphs(function(t,n){return t?r(t):r(null,n.map(function(t){return e.graph(t._key)}))}),o}},{key:"transaction",value:function(t,e,n,o,r){"function"==typeof o&&(r=o,o=void 0),"function"==typeof n&&(r=n,n=void 0),"number"==typeof n&&(o=n,n=void 0),("string"==typeof t||Array.isArray(t))&&(t={write:t});var i=this._connection.promisify(r),a=i.promise,u=i.callback;return this._api.post("/transaction",{collections:t,action:e,params:n,lockTimeout:o},function(t,e){return t?u(t):u(null,e.body.result)}),a}},{key:"query",value:function(t,e,n,o){var r=this;"function"==typeof n&&(o=n,n=void 0),"function"==typeof e&&(o=e,e=void 0);var i=this._connection.promisify(o),u=i.promise,s=i.callback;return t&&t.query&&(n||(n=e),e=t.bindVars,t=t.query),t&&"function"==typeof t.toAQL&&(t=t.toAQL()),this._api.post("/cursor",a({},n,{query:t,bindVars:e}),function(t,e){return t?s(t):s(null,new f.default(r._connection,e.body))}),u}},{key:"listFunctions",value:function(t){var e=this._connection.promisify(t),n=e.promise,o=e.callback;return this._api.get("/aqlfunction",function(t,e){return t?o(t):o(null,e.body)}),n}},{key:"createFunction",value:function(t,e,n){var o=this._connection.promisify(n),r=o.promise,i=o.callback;return this._api.post("/aqlfunction",{name:t,code:e},function(t,e){return t?i(t):i(null,e.body)}),r}},{key:"dropFunction",value:function(t,e,n){"function"==typeof e&&(n=e,e=void 0);var o=this._connection.promisify(n),r=o.promise,i=o.callback;return this._api.delete("/aqlfunction/"+t,{group:Boolean(e)},function(t,e){return t?i(t):i(null,e.body)}),r}},{key:"listServices",value:function(t){var e=this._connection.promisify(t),n=e.promise,o=e.callback;return this._api.get("/foxx",function(t,e){return t?o(t):o(null,e.body)}),n}},{key:"installService",value:function(t,e,n,o){var i=this;"function"==typeof n&&(o=n,n=void 0);var u=n||{},s=u.configuration,c=u.dependencies,l=r(u,["configuration","dependencies"]),f=this._connection.promisify(o),p=f.promise,h=f.callback;return(0,k.default)({configuration:s,dependencies:c,source:e},function(e,n){return e?h(e):i._api.request({method:"POST",path:"/foxx",rawBody:n.body,qs:a({},l,{mount:t}),headers:n.headers},function(t,e){return t?h(t):h(null,e.body)})}),p}},{key:"upgradeService",value:function(t,e,n,o){var i=this;"function"==typeof n&&(o=n,n=void 0);var u=n||{},s=u.configuration,c=u.dependencies,l=r(u,["configuration","dependencies"]),f=this._connection.promisify(o),p=f.promise,h=f.callback;return(0,k.default)({configuration:s,dependencies:c,source:e},function(e,n){return e?h(e):i._api.request({method:"PATCH",path:"/foxx/service",rawBody:n.body,qs:a({},l,{mount:t}),headers:n.headers},function(t,e){return t?h(t):h(null,e.body)})}),p}},{key:"replaceService",value:function(t,e,n,o){var i=this;"function"==typeof n&&(o=n,n=void 0);var u=n||{},s=u.configuration,c=u.dependencies,l=r(u,["configuration","dependencies"]),f=this._connection.promisify(o),p=f.promise,h=f.callback;return(0,k.default)({configuration:s,dependencies:c,source:e},function(e,n){return e?h(e):i._api.request({method:"PUT",path:"/foxx/service",rawBody:n.body,qs:a({},l,{mount:t}),headers:n.headers},function(t,e){return t?h(t):h(null,e.body)})}),p}},{key:"uninstallService",value:function(t,e,n){"function"==typeof e&&(n=e,e=void 0);var o=this._connection.promisify(n),r=o.promise,i=o.callback;return this._api.delete("/foxx/service",a({},e,{mount:t}),function(t){return i(t?t:null)}),r}},{key:"getService",value:function(t,e){var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._api.get("/foxx/service",{mount:t},function(t,e){return t?r(t):r(null,e.body)}),o}},{key:"getServiceConfiguration",value:function(t,e,n){"function"==typeof e&&(n=e,e=void 0),"boolean"!=typeof e&&(e=!1);var o=this._connection.promisify(n),r=o.promise,i=o.callback;return this._api.get("/foxx/configuration",{mount:t,minimal:e},function(t,n){if(t)return i(t);if(e){var o={},r=!0,a=!1,u=void 0;try{for(var s,c=Object.keys(n.body)[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value;o[l]=n.body[l].current}}catch(t){a=!0,u=t}finally{try{!r&&c.return&&c.return()}finally{if(a)throw u}}n.body={values:o}}i(null,n.body)}),r}},{key:"updateServiceConfiguration",value:function(t,e,n,o){var r=this;"function"==typeof n&&(o=n,n=void 0),"boolean"!=typeof n&&(n=!1);var i=this._connection.promisify(o),a=i.promise,u=i.callback;return this._api.patch("/foxx/configuration",e,{mount:t,minimal:n},function(e,o){if(e)return u(e);var i=o.body;if(n||!i.values||!i.values.title)return u(null,i);r.getServiceConfiguration(t,n,function(t,e){if(t)return u(t);if(i.warnings){var n=!0,o=!1,r=void 0;try{for(var a,s=Object.keys(e)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;e.body[c].warning=i.warnings[c]}}catch(t){o=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw r}}}u(null,e.body)})}),a}},{key:"replaceServiceConfiguration",value:function(t,e,n,o){var r=this;"function"==typeof n&&(o=n,n=void 0),"boolean"!=typeof n&&(n=!1);var i=this._connection.promisify(o),a=i.promise,u=i.callback;return this._api.put("/foxx/configuration",e,{mount:t,minimal:n},function(e,o){if(e)return u(e);var i=o.body;if(n||!i.values||!i.values.title)return u(null,i);r.getServiceConfiguration(t,n,function(t,e){if(t)return u(t);if(i.warnings){var n=!0,o=!1,r=void 0;try{for(var a,s=Object.keys(e)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;e.body[c].warning=i.warnings[c]}}catch(t){o=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw r}}}u(null,e.body)})}),a}},{key:"getServiceDependencies",value:function(t,e,n){"function"==typeof e&&(n=e,e=void 0),"boolean"!=typeof e&&(e=!1);var o=this._connection.promisify(n),r=o.promise,i=o.callback;return this._api.get("/foxx/dependencies",{mount:t,minimal:e},function(t,n){if(t)return i(t);if(e){var o={},r=!0,a=!1,u=void 0;try{for(var s,c=Object.keys(n.body)[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value;o[l]=n.body[l].current}}catch(t){a=!0,u=t}finally{try{!r&&c.return&&c.return()}finally{if(a)throw u}}n.body={values:o}}i(null,n.body)}),r}},{key:"updateServiceDependencies",value:function(t,e,n,o){var r=this;"function"==typeof n&&(o=n,n=void 0),"boolean"!=typeof n&&(n=!1);var i=this._connection.promisify(o),a=i.promise,u=i.callback;return this._api.patch("/foxx/dependencies",e,{mount:t,minimal:n},function(e,o){if(e)return u(e);var i=o.body;if(n||!i.values||!i.values.title)return u(null,i);r.getServiceDependencies(t,n,function(t,e){if(t)return u(t);if(i.warnings){var n=!0,o=!1,r=void 0;try{for(var a,s=Object.keys(e)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;e.body[c].warning=i.warnings[c]}}catch(t){o=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw r}}}u(null,e.body)})}),a}},{key:"replaceServiceDependencies",value:function(t,e,n,o){var r=this;"function"==typeof n&&(o=n,n=void 0),"boolean"!=typeof n&&(n=!1);var i=this._connection.promisify(o),a=i.promise,u=i.callback;return this._api.put("/foxx/dependencies",e,{mount:t,minimal:n},function(e,o){if(e)return u(e);var i=o.body;if(n||!i.values||!i.values.title)return u(null,i);r.getServiceDependencies(t,n,function(t,e){if(t)return u(t);if(i.warnings){var n=!0,o=!1,r=void 0;try{for(var a,s=Object.keys(e)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;e.body[c].warning=i.warnings[c]}}catch(t){o=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw r}}}u(null,e.body)})}),a}},{key:"enableServiceDevelopmentMode",value:function(t,e){var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._api.post("/foxx/development",void 0,{mount:t},function(t,e){return t?r(t):r(null,e.body)}),o}},{key:"disableServiceDevelopmentMode",value:function(t,e){var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._api.delete("/foxx/development",{mount:t},function(t,e){return t?r(t):r(null,e.body)}),o}},{key:"listServiceScripts",value:function(t,e){var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._api.get("/foxx/scripts",{mount:t},function(t,e){return t?r(t):r(null,e.body)}),o}},{key:"runServiceScript",value:function(t,e,n,o){"function"==typeof n&&(o=n,n=void 0);var r=this._connection.promisify(o),i=r.promise,a=r.callback;return this._api.post("/foxx/scripts/"+e,n,{mount:t},function(t,e){return t?a(t):a(null,e.body)}),i}},{key:"runServiceTests",value:function(t,e,n){"function"==typeof e&&(n=e,e=void 0);var o=this._connection.promisify(n),r=o.promise,i=o.callback;return this._api.post("/foxx/tests",void 0,a({},e,{mount:t}),function(t,e){return t?i(t):i(null,e.body)}),r}},{key:"getServiceReadme",value:function(t,e){var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._api.get("/foxx/readme",{mount:t},function(t,e){return t?r(t):r(null,e.body)}),o}},{key:"getServiceDocumentation",value:function(t,e){var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._api.get("/foxx/swagger",{mount:t},function(t,e){return t?r(t):r(null,e.body)}),o}},{key:"downloadService",value:function(t,e){var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._api.request({method:"POST",path:"/foxx/download",qs:{mount:t},expectBinary:!0},function(t,e){return t?r(t):r(null,e.body)}),o}},{key:"commitLocalServiceState",value:function(t,e){"function"==typeof t&&(e=t,t=void 0);var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._api.post("/foxx/commit",void 0,{replace:t},function(t,e){return r(t?t:null)}),o}}]),t}();e.default=w},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=n(10),c=o(s),l=n(3),f=o(l),p=n(4),h=o(p),y=n(18),d=o(y),m=n(20),v=o(m),b=n(21),_=o(b),g=n(35),k=o(g),w=n(37),x=o(w),O=n(38),j=o(O),S=/\/(json|javascript)(\W|$)/,T=function(){function t(e){r(this,t),"string"==typeof e&&(e={url:e}),this.config=a({},t.defaults,e),this.config.agentOptions=a({},t.agentDefaults,this.config.agentOptions),this.config.headers||(this.config.headers={}),this.config.headers["x-arango-version"]||(this.config.headers["x-arango-version"]=this.config.arangoVersion),this.arangoMajor=Math.floor(this.config.arangoVersion/1e4);var n=(0,_.default)(this.config.url,this.config.agentOptions,this.config.agent),o=n.request,i=n.auth,u=n.url;this._baseUrl=u,this._request=o,i&&!this.config.headers.authorization&&(this.config.headers.authorization="Basic "+(0,h.default)(i)),!1===this.config.databaseName?this._databasePath="":this._databasePath="/_db/"+this.config.databaseName,this.promisify=(0,v.default)(this.config.promise),this.retryOptions={forever:this.config.retryConnection,retries:0,minTimeout:5e3,randomize:!0}}return u(t,[{key:"_buildUrl",value:function(t){var e="",n=void 0;return t.absolutePath||(e=this._databasePath,t.basePath&&(e+=t.basePath)),t.path&&(e+=t.path),t.qs&&(n="string"==typeof t.qs?"?"+t.qs:"?"+f.default.stringify(t.qs)),n?{pathname:e,search:n}:{pathname:e}}},{key:"route",value:function(t,e){return new x.default(this,t,e)}},{key:"request",value:function(t,e){var n=this.promisify(e),o=n.promise,r=n.callback,a=t.expectBinary||!1,u="text/plain",s=t.body;s?"object"===(void 0===s?"undefined":i(s))?t.ld?(s=s.map(function(t){return JSON.stringify(t)}).join("\r\n")+"\r\n",u="application/x-ldjson"):(s=JSON.stringify(s),u="application/json"):s=String(s):s=t.rawBody,t.headers.hasOwnProperty("content-type")||(t.headers["content-type"]=u),b.isBrowser||t.headers.hasOwnProperty("content-length")||(t.headers["content-length"]=s?(0,d.default)(s,"utf-8"):0);var l=!0,f=!1,p=void 0;try{for(var h,y=Object.keys(this.config.headers)[Symbol.iterator]();!(l=(h=y.next()).done);l=!0){var m=h.value;t.headers.hasOwnProperty(m)||(t.headers[m]=this.config.headers[m])}}catch(t){f=!0,p=t}finally{try{!l&&y.return&&y.return()}finally{if(f)throw p}}var v=this._buildUrl(t),_=this._request,g=j.default.operation(this.retryOptions);return g.attempt(function(e){_({url:v,headers:t.headers,method:t.method,expectBinary:a,body:s},function(t,n){if(!g.retry(t))if(t)r(t);else{var o=n.body;if(n.headers["content-type"].match(S))try{a&&(n.body=n.body.toString("utf-8")),n.body=n.body?JSON.parse(n.body):void 0}catch(t){return n.body=o,t.response=n,r(t)}if(n.body&&n.body.error&&n.body.hasOwnProperty("code")&&n.body.hasOwnProperty("errorMessage")&&n.body.hasOwnProperty("errorNum")){if(t=new k.default(n.body),t.response=n,1===e&&21===t.errorNum&&g.retry(t))return;r(t)}else if(n.statusCode>=400){if(t=(0,c.default)(n.statusCode),t.response=n,1===e&&500===n.statusCode&&g.retry(t))return;r(t)}else a&&(n.body=o),r(null,n)}})}),o}}]),t}();e.default=T,T.defaults={url:"http://localhost:8529",databaseName:"_system",arangoVersion:3e4,retryConnection:!1},T.agentDefaults={maxSockets:3,keepAlive:!0,keepAliveMsecs:1e3}},function(t,e,n){"use strict";function o(t){return Number(String(t).charAt(0)+"00")}function r(){for(var t,e,n=500,i={},a=0;a<arguments.length;a++){var u=arguments[a];if(u instanceof Error)t=u,n=t.status||t.statusCode||n;else switch(void 0===u?"undefined":s(u)){case"string":e=u;break;case"number":n=u,0!==a&&c("non-first-argument status code; replace with createError("+u+", ...)");break;case"object":i=u}}"number"==typeof n&&(n<400||n>=600)&&c("non-error status code; use only 4xx or 5xx status codes"),("number"!=typeof n||!f[n]&&(n<400||n>=600))&&(n=500);var l=r[n]||r[o(n)];t||(t=l?new l(e):new Error(e||f[n]),Error.captureStackTrace(t,r)),l&&t instanceof l&&t.status===n||(t.expose=n<500,t.status=t.statusCode=n);for(var p in i)"status"!==p&&"statusCode"!==p&&(t[p]=i[p]);return t}function i(t,e,n){function o(t){var e=null!=t?t:f[n],i=new Error(e);return Error.captureStackTrace(i,o),l(i,o.prototype),Object.defineProperty(i,"message",{enumerable:!0,configurable:!0,value:e,writable:!0}),Object.defineProperty(i,"name",{enumerable:!1,configurable:!0,value:r,writable:!0}),i}var r=e.match(/Error$/)?e:e+"Error";return p(o,t),o.prototype.status=n,o.prototype.statusCode=n,o.prototype.expose=!0,o}function a(t,e,n){function o(t){var e=null!=t?t:f[n],i=new Error(e);return Error.captureStackTrace(i,o),l(i,o.prototype),Object.defineProperty(i,"message",{enumerable:!0,configurable:!0,value:e,writable:!0}),Object.defineProperty(i,"name",{enumerable:!1,configurable:!0,value:r,writable:!0}),i}var r=e.match(/Error$/)?e:e+"Error";return p(o,t),o.prototype.status=n,o.prototype.statusCode=n,o.prototype.expose=!1,o}function u(t){return t.split(" ").map(function(t){return t.slice(0,1).toUpperCase()+t.slice(1)}).join("").replace(/[^ _0-9a-z]/gi,"")}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=n(11)("http-errors"),l=n(12),f=n(13),p=n(15);t.exports=r,t.exports.HttpError=function(){function t(){throw new TypeError("cannot construct abstract class")}return p(t,Error),t}(),function(t,e,n){e.forEach(function(e){var r,s=u(f[e]);switch(o(e)){case 400:r=i(n,s,e);break;case 500:r=a(n,s,e)}r&&(t[e]=r,t[s]=r)}),t["I'mateapot"]=c.function(t.ImATeapot,'"I\'mateapot"; use "ImATeapot" instead')}(t.exports,f.codes,t.exports.HttpError)},function(t,e,n){"use strict";function o(t){function e(t){}if(!t)throw new TypeError("argument namespace is required");return e._file=void 0,e._ignored=!0,e._namespace=t,e._traced=!1,e._warned=Object.create(null),e.function=r,e.property=i,e}function r(t,e){if("function"!=typeof t)throw new TypeError("argument fn must be a function");return t}function i(t,e,n){if(!t||"object"!==(void 0===t?"undefined":a(t))&&"function"!=typeof t)throw new TypeError("argument obj must be object");var o=Object.getOwnPropertyDescriptor(t,e);if(!o)throw new TypeError("must call property on owner object");if(!o.configurable)throw new TypeError("property must be configurable")}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=o},function(t,e,n){"use strict";function o(t,e){return t.__proto__=e,t}function r(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t}t.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?o:r)},function(t,e,n){"use strict";function o(t){if("number"==typeof t){if(!o[t])throw new Error("invalid status code: "+t);return t}if("string"!=typeof t)throw new TypeError("code must be a number or string");var e=parseInt(t,10);if(!isNaN(e)){if(!o[e])throw new Error("invalid status code: "+e);return e}if(!(e=o[t.toLowerCase()]))throw new Error('invalid status message: "'+t+'"');return e}var r=n(14);t.exports=o,o.STATUS_CODES=r,o.codes=function(t,e){var n=[];return Object.keys(e).forEach(function(o){var r=e[o],i=Number(o);t[i]=r,t[r]=i,t[r.toLowerCase()]=i,n.push(i)}),n}(o,r),o.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},o.empty={204:!0,205:!0,304:!0},o.retry={502:!0,503:!0,504:!0}},function(t,e){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"(Unused)",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(t,e,n){"use strict";"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,i){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var u=/\+/g;t=t.split(e);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var c=t.length;s>0&&c>s&&(c=s);for(var l=0;l<c;++l){var f,p,h,y,d=t[l].replace(u,"%20"),m=d.indexOf(n);m>=0?(f=d.substr(0,m),p=d.substr(m+1)):(f=d,p=""),h=decodeURIComponent(f),y=decodeURIComponent(p),o(a,h)?r(a[h])?a[h].push(y):a[h]=[a[h],y]:a[h]=y}return a};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";function o(t,e){if(t.map)return t.map(e);for(var n=[],o=0;o<t.length;o++)n.push(e(t[o],o));return n}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t){switch(void 0===t?"undefined":r(t)){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"===(void 0===t?"undefined":r(t))?o(u(t),function(r){var u=encodeURIComponent(i(r))+n;return a(t[r])?o(t[r],function(t){return u+encodeURIComponent(i(t))}).join(e):u+encodeURIComponent(i(t[r]))}).join(e):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(t)):""};var a=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},u=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){"use strict";t.exports=n(19)},function(t,e,n){"use strict";t.exports=function(t){return~-encodeURI(t).split(/%..|./).length}},function(t,e,n){"use strict";(function(t){function n(e){return!1===e?function(t){return{callback:t||o}}:function(n){var r=e||t.Promise;if(n||!r)return{callback:n||o};var i=void 0,a=new r(function(t,e){i=function(n,o){n?e(n):t(o)}});return{callback:i,promise:a}}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var o=function(){}}).call(e,n(0))},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowser=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};e.default=function(t,e){function n(){if(s.length&&!(f>=l)){var t=s.shift();f+=1,t(function(){f-=1,n()})}}function o(t,o){var l=t.method,f=t.url,p=t.headers,h=t.body,y=t.expectBinary,d=r({},i,{pathname:f.pathname?i.pathname?(0,c.default)(i.pathname,f.pathname):f.pathname:i.pathname,search:f.search?i.search?i.search+"&"+f.search.slice(1):f.search:i.search});s.push(function(t){var n=function(e,r){n=function(){},t(),o(e,r)},i=(0,a.default)(r({responseType:y?"blob":"text"},e,{url:(0,u.format)(d),withCredentials:!0,useXDR:!0,body:h,method:l,headers:p}),function(t,e){t?(t.request=i,n(t)):n(null,e)})}),n()}e||(e={});var i=(0,u.parse)(t),s=[],l="number"==typeof e.maxSockets?2*e.maxSockets:1/0,f=0,p=i.auth;return delete i.auth,{request:o,auth:p,url:i}};var i=n(22),a=o(i),u=n(28),s=n(32),c=o(s);e.isBrowser=!0},function(t,e,n){"use strict";function o(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function r(t,e,n){var o=t;return l(e)?(n=e,"string"==typeof t&&(o={uri:t})):o=p(e,{uri:t}),o.callback=n,o}function i(t,e,n){return e=r(t,e,n),a(e)}function a(t){function e(){4===l.readyState&&setTimeout(a,0)}function n(){var t=void 0;if(t=l.response?l.response:l.responseText||u(l),g)try{t=JSON.parse(t)}catch(t){}return t}function r(t){return clearTimeout(y),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,c(t,k)}function a(){if(!h){var e;clearTimeout(y),e=t.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var o=k,r=null;return 0!==e?(o={body:n(),statusCode:e,method:m,headers:{},url:d,rawRequest:l},l.getAllResponseHeaders&&(o.headers=f(l.getAllResponseHeaders()))):r=new Error("Internal XMLHttpRequest Error"),c(r,o,o.body)}}if(void 0===t.callback)throw new Error("callback argument missing");var s=!1,c=function(e,n,o){s||(s=!0,t.callback(e,n,o))},l=t.xhr||null;l||(l=t.cors||t.useXDR?new i.XDomainRequest:new i.XMLHttpRequest);var p,h,y,d=l.url=t.uri||t.url,m=l.method=t.method||"GET",v=t.body||t.data,b=l.headers=t.headers||{},_=!!t.sync,g=!1,k={body:void 0,headers:{},statusCode:0,method:m,url:d,rawRequest:l};if("json"in t&&!1!==t.json&&(g=!0,b.accept||b.Accept||(b.Accept="application/json"),"GET"!==m&&"HEAD"!==m&&(b["content-type"]||b["Content-Type"]||(b["Content-Type"]="application/json"),v=JSON.stringify(!0===t.json?v:t.json))),l.onreadystatechange=e,l.onload=a,l.onerror=r,l.onprogress=function(){},l.onabort=function(){h=!0},l.ontimeout=r,l.open(m,d,!_,t.username,t.password),_||(l.withCredentials=!!t.withCredentials),!_&&t.timeout>0&&(y=setTimeout(function(){if(!h){h=!0,l.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",r(t)}},t.timeout)),l.setRequestHeader)for(p in b)b.hasOwnProperty(p)&&l.setRequestHeader(p,b[p]);else if(t.headers&&!o(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(l.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(l),l.send(v||null),l}function u(t){if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||e?null:t.responseXML}function s(){}var c=n(23),l=n(5),f=n(24),p=n(27);t.exports=i,i.XMLHttpRequest=c.XMLHttpRequest||s,i.XDomainRequest="withCredentials"in new i.XMLHttpRequest?i.XMLHttpRequest:c.XDomainRequest,function(t,e){for(var n=0;n<t.length;n++)e(t[n])}(["get","put","post","patch","head","delete"],function(t){i["delete"===t?"del":t]=function(e,n,o){return n=r(e,n,o),n.method=t.toUpperCase(),a(n)}})},function(t,e,n){"use strict";(function(e){"undefined"!=typeof window?t.exports=window:void 0!==e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(e,n(0))},function(t,e,n){"use strict";var o=n(25),r=n(26),i=function(t){return"[object Array]"===Object.prototype.toString.call(t)};t.exports=function(t){if(!t)return{};var e={};return r(o(t).split("\n"),function(t){var n=t.indexOf(":"),r=o(t.slice(0,n)).toLowerCase(),a=o(t.slice(n+1));void 0===e[r]?e[r]=a:i(e[r])?e[r].push(a):e[r]=[e[r],a]}),e}},function(t,e,n){"use strict";function o(t){return t.replace(/^\s*|\s*$/g,"")}e=t.exports=o,e.left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}},function(t,e,n){"use strict";function o(t,e,n){if(!u(e))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===s.call(t)?r(t,e,n):"string"==typeof t?i(t,e,n):a(t,e,n)}function r(t,e,n){for(var o=0,r=t.length;o<r;o++)c.call(t,o)&&e.call(n,t[o],o,t)}function i(t,e,n){for(var o=0,r=t.length;o<r;o++)e.call(n,t.charAt(o),o,t)}function a(t,e,n){for(var o in t)c.call(t,o)&&e.call(n,t[o],o,t)}var u=n(5);t.exports=o;var s=Object.prototype.toString,c=Object.prototype.hasOwnProperty},function(t,e,n){"use strict";function o(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var o in n)r.call(n,o)&&(t[o]=n[o])}return t}t.exports=o;var r=Object.prototype.hasOwnProperty},function(t,e,n){"use strict";function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(t,e,n){if(t&&l.isObject(t)&&t instanceof o)return t;var r=new o;return r.parse(t,e,n),r}function i(t){return l.isString(t)&&(t=r(t)),t instanceof o?t.format():o.prototype.format.call(t)}function a(t,e){return r(t,!1,!0).resolve(e)}function u(t,e){return t?r(t,!1,!0).resolveObject(e):e}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=n(29),l=n(31);e.parse=r,e.resolve=a,e.resolveObject=u,e.format=i,e.Url=o;var f=/^([a-z0-9.+-]+:)/i,p=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,y=["<",">",'"',"`"," ","\r","\n","\t"],d=["{","}","|","\\","^","`"].concat(y),m=["'"].concat(d),v=["%","/","?",";","#"].concat(m),b=["/","?","#"],_=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,k={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},x={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},O=n(3);o.prototype.parse=function(t,e,n){if(!l.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+(void 0===t?"undefined":s(t)));var o=t.indexOf("?"),r=-1!==o&&o<t.indexOf("#")?"?":"#",i=t.split(r),a=/\\/g;i[0]=i[0].replace(a,"/"),t=i.join(r);var u=t;if(u=u.trim(),!n&&1===t.split("#").length){var p=h.exec(u);if(p)return this.path=u,this.href=u,this.pathname=p[1],p[2]?(this.search=p[2],this.query=e?O.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var y=f.exec(u);if(y){y=y[0];var d=y.toLowerCase();this.protocol=d,u=u.substr(y.length)}if(n||y||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var j="//"===u.substr(0,2);!j||y&&w[y]||(u=u.substr(2),this.slashes=!0)}if(!w[y]&&(j||y&&!x[y])){for(var S=-1,T=0;T<b.length;T++){var E=u.indexOf(b[T]);-1!==E&&(-1===S||E<S)&&(S=E)}var P,C;C=-1===S?u.lastIndexOf("@"):u.lastIndexOf("@",S),-1!==C&&(P=u.slice(0,C),u=u.slice(C+1),this.auth=decodeURIComponent(P)),S=-1;for(var T=0;T<v.length;T++){var E=u.indexOf(v[T]);-1!==E&&(-1===S||E<S)&&(S=E)}-1===S&&(S=u.length),this.host=u.slice(0,S),u=u.slice(S),this.parseHost(),this.hostname=this.hostname||"";var q="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!q)for(var A=this.hostname.split(/\./),T=0,M=A.length;T<M;T++){var N=A[T];if(N&&!N.match(_)){for(var R="",L=0,I=N.length;L<I;L++)N.charCodeAt(L)>127?R+="x":R+=N[L];if(!R.match(_)){var D=A.slice(0,T),U=A.slice(T+1),H=N.match(g);H&&(D.push(H[1]),U.unshift(H[2])),U.length&&(u="/"+U.join(".")+u),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),q||(this.hostname=c.toASCII(this.hostname));var B=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+B,this.href+=this.host,q&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==u[0]&&(u="/"+u))}if(!k[d])for(var T=0,M=m.length;T<M;T++){var X=m[T];if(-1!==u.indexOf(X)){var V=encodeURIComponent(X);V===X&&(V=escape(X)),u=u.split(X).join(V)}}var z=u.indexOf("#");-1!==z&&(this.hash=u.substr(z),u=u.slice(0,z));var G=u.indexOf("?");if(-1!==G?(this.search=u.substr(G),this.query=u.substr(G+1),e&&(this.query=O.parse(this.query)),u=u.slice(0,G)):e&&(this.search="",this.query={}),u&&(this.pathname=u),x[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",$=this.search||"";this.path=B+$}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",o=this.hash||"",r=!1,i="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&l.isObject(this.query)&&Object.keys(this.query).length&&(i=O.stringify(this.query));var a=this.search||i&&"?"+i||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||x[e])&&!1!==r?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),o&&"#"!==o.charAt(0)&&(o="#"+o),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),e+r+n+a+o},o.prototype.resolve=function(t){return this.resolveObject(r(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(l.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,r=Object.keys(this),i=0;i<r.length;i++){var a=r[i];n[a]=this[a]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),s=0;s<u.length;s++){var c=u[s];"protocol"!==c&&(n[c]=t[c])}return x[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!x[t.protocol]){for(var f=Object.keys(t),p=0;p<f.length;p++){var h=f[p];n[h]=t[h]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||w[t.protocol])n.pathname=t.pathname;else{for(var y=(t.pathname||"").split("/");y.length&&!(t.host=y.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==y[0]&&y.unshift(""),y.length<2&&y.unshift(""),n.pathname=y.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var d=n.pathname||"",m=n.search||"";n.path=d+m}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),_=b||v||n.host&&t.pathname,g=_,k=n.pathname&&n.pathname.split("/")||[],y=t.pathname&&t.pathname.split("/")||[],O=n.protocol&&!x[n.protocol];if(O&&(n.hostname="",n.port=null,n.host&&(""===k[0]?k[0]=n.host:k.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===y[0]?y[0]=t.host:y.unshift(t.host)),t.host=null),_=_&&(""===y[0]||""===k[0])),b)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,k=y;else if(y.length)k||(k=[]),k.pop(),k=k.concat(y),n.search=t.search,n.query=t.query;else if(!l.isNullOrUndefined(t.search)){if(O){n.hostname=n.host=k.shift();var j=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");j&&(n.auth=j.shift(),n.host=n.hostname=j.shift())}return n.search=t.search,n.query=t.query,l.isNull(n.pathname)&&l.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!k.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var S=k.slice(-1)[0],T=(n.host||t.host||k.length>1)&&("."===S||".."===S)||""===S,E=0,P=k.length;P>=0;P--)S=k[P],"."===S?k.splice(P,1):".."===S?(k.splice(P,1),E++):E&&(k.splice(P,1),E--);if(!_&&!g)for(;E--;E)k.unshift("..");!_||""===k[0]||k[0]&&"/"===k[0].charAt(0)||k.unshift(""),T&&"/"!==k.join("/").substr(-1)&&k.push("");var C=""===k[0]||k[0]&&"/"===k[0].charAt(0);if(O){n.hostname=n.host=C?"":k.length?k.shift():"";var j=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");j&&(n.auth=j.shift(),n.host=n.hostname=j.shift())}return _=_||n.host&&k.length,_&&!C&&k.unshift(""),k.length?n.pathname=k.join("/"):(n.pathname=null,n.path=null),l.isNull(n.pathname)&&l.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=p.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){"use strict";(function(t,o){var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a){function u(t){throw new RangeError(L[t])}function s(t,e){for(var n=t.length,o=[];n--;)o[n]=e(t[n]);return o}function c(t,e){var n=t.split("@"),o="";return n.length>1&&(o=n[0]+"@",t=n[1]),t=t.replace(R,"."),o+s(t.split("."),e).join(".")}function l(t){for(var e,n,o=[],r=0,i=t.length;r<i;)e=t.charCodeAt(r++),e>=55296&&e<=56319&&r<i?(n=t.charCodeAt(r++),56320==(64512&n)?o.push(((1023&e)<<10)+(1023&n)+65536):(o.push(e),r--)):o.push(e);return o}function f(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=U(t>>>10&1023|55296),t=56320|1023&t),e+=U(t)}).join("")}function p(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:j}function h(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function y(t,e,n){var o=0;for(t=n?D(t/P):t>>1,t+=D(t/e);t>I*T>>1;o+=j)t=D(t/I);return D(o+(I+1)*t/(t+E))}function d(t){var e,n,o,r,i,a,s,c,l,h,d=[],m=t.length,v=0,b=q,_=C;for(n=t.lastIndexOf(A),n<0&&(n=0),o=0;o<n;++o)t.charCodeAt(o)>=128&&u("not-basic"),d.push(t.charCodeAt(o));for(r=n>0?n+1:0;r<m;){for(i=v,a=1,s=j;r>=m&&u("invalid-input"),c=p(t.charCodeAt(r++)),(c>=j||c>D((O-v)/a))&&u("overflow"),v+=c*a,l=s<=_?S:s>=_+T?T:s-_,!(c<l);s+=j)h=j-l,a>D(O/h)&&u("overflow"),a*=h;e=d.length+1,_=y(v-i,e,0==i),D(v/e)>O-b&&u("overflow"),b+=D(v/e),v%=e,d.splice(v++,0,b)}return f(d)}function m(t){var e,n,o,r,i,a,s,c,f,p,d,m,v,b,_,g=[];for(t=l(t),m=t.length,e=q,n=0,i=C,a=0;a<m;++a)(d=t[a])<128&&g.push(U(d));for(o=r=g.length,r&&g.push(A);o<m;){for(s=O,a=0;a<m;++a)(d=t[a])>=e&&d<s&&(s=d);for(v=o+1,s-e>D((O-n)/v)&&u("overflow"),n+=(s-e)*v,e=s,a=0;a<m;++a)if(d=t[a],d<e&&++n>O&&u("overflow"),d==e){for(c=n,f=j;p=f<=i?S:f>=i+T?T:f-i,!(c<p);f+=j)_=c-p,b=j-p,g.push(U(h(p+_%b,0))),c=D(_/b);g.push(U(h(c,0))),i=y(n,v,o==r),n=0,++o}++n,++e}return g.join("")}function v(t){return c(t,function(t){return M.test(t)?d(t.slice(4).toLowerCase()):t})}function b(t){return c(t,function(t){return N.test(t)?"xn--"+m(t):t})}var _="object"==i(e)&&e&&!e.nodeType&&e,g="object"==i(t)&&t&&!t.nodeType&&t,k="object"==(void 0===o?"undefined":i(o))&&o;k.global!==k&&k.window!==k&&k.self!==k||(a=k);var w,x,O=2147483647,j=36,S=1,T=26,E=38,P=700,C=72,q=128,A="-",M=/^xn--/,N=/[^\x20-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=j-S,D=Math.floor,U=String.fromCharCode;if(w={version:"1.4.1",ucs2:{decode:l,encode:f},decode:d,encode:m,toASCII:b,toUnicode:v},"object"==i(n(6))&&n(6))void 0!==(r=function(){return w}.call(e,n,e,t))&&(t.exports=r);else if(_&&g)if(t.exports==_)g.exports=w;else for(x in w)w.hasOwnProperty(x)&&(_[x]=w[x]);else a.punycode=w}(void 0)}).call(e,n(30)(t),n(0))},function(t,e,n){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"===(void 0===t?"undefined":o(t))&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(33),r=function(t){return t&&t.__esModule?t:{default:t}}(o),i=r.default.posix||r.default;e.default=i.join},function(t,e,n){"use strict";(function(t){function n(t,e){for(var n=0,o=t.length-1;o>=0;o--){var r=t[o];"."===r?t.splice(o,1):".."===r?(t.splice(o,1),n++):n&&(t.splice(o,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function o(t,e){if(t.filter)return t.filter(e);for(var n=[],o=0;o<t.length;o++)e(t[o],o,t)&&n.push(t[o]);return n}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return r.exec(t).slice(1)};e.resolve=function(){for(var e="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var a=i>=0?arguments[i]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,r="/"===a.charAt(0))}return e=n(o(e.split("/"),function(t){return!!t}),!r).join("/"),(r?"/":"")+e||"."},e.normalize=function(t){var r=e.isAbsolute(t),i="/"===a(t,-1);return t=n(o(t.split("/"),function(t){return!!t}),!r).join("/"),t||r||(t="."),t&&i&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function o(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var r=o(t.split("/")),i=o(n.split("/")),a=Math.min(r.length,i.length),u=a,s=0;s<a;s++)if(r[s]!==i[s]){u=s;break}for(var c=[],s=u;s<r.length;s++)c.push("..");return c=c.concat(i.slice(u)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=i(t),n=e[0],o=e[1];return n||o?(o&&(o=o.substr(0,o.length-1)),n+o):"."},e.basename=function(t,e){var n=i(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return i(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(e,n(34))},function(t,e,n){"use strict";function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(f===setTimeout)return setTimeout(t,0);if((f===o||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function a(t){if(p===clearTimeout)return clearTimeout(t);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function u(){m&&y&&(m=!1,y.length?d=y.concat(d):v=-1,d.length&&s())}function s(){if(!m){var t=i(u);m=!0;for(var e=d.length;e;){for(y=d,d=[];++v<e;)y&&y[v].run();v=-1,e=d.length}y=null,m=!1,a(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var f,p,h=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:o}catch(t){f=o}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(t){p=r}}();var y,d=[],m=!1,v=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new c(t,e)),1!==d.length||m||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.prependListener=l,h.prependOnceListener=l,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(36),u=function(t){return t&&t.__esModule?t:{default:t}}(a),s=function(t){function e(t){o(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));n.message=t.errorMessage,n.errorNum=t.errorNum,n.code=t.code;var i=new Error(n.message);return i.name=n.name,i.fileName&&(n.fileName=i.fileName),i.lineNumber&&(n.lineNumber=i.lineNumber),i.columnNumber&&(n.columnNumber=i.columnNumber),i.stack&&(n.stack=i.stack),i.description&&(n.description=i.description),i.number&&(n.number=i.number),n}return i(e,t),e}(u.default);e.default=s,s.prototype.name="ArangoError",s.prototype.isArangoError=!0},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":a(e))&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":a(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(e,"__esModule",{value:!0});var u=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";o(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return Object.defineProperty(n,"message",{configurable:!0,enumerable:!1,value:t,writable:!0}),Object.defineProperty(n,"name",{configurable:!0,enumerable:!1,value:n.constructor.name,writable:!0}),Error.hasOwnProperty("captureStackTrace")?(Error.captureStackTrace(n,n.constructor),r(n)):(Object.defineProperty(n,"stack",{configurable:!0,enumerable:!1,value:new Error(t).stack,writable:!0}),n)}return i(e,t),e}(function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t,e}(Error));e.default=u,t.exports=e.default},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=function(){function t(e,n,r){o(this,t),n?"/"!==n.charAt(0)&&(n="/"+n):n="",this._connection=e,this._path=n,this._headers=r}return i(t,[{key:"route",value:function(e,n){return e?"/"!==e.charAt(0)&&(e="/"+e):e="",new t(this._connection,this._path+e,r({},this._headers,n))}},{key:"request",value:function(t,e){return t=r({},t),t.basePath=this._path,t.headers=r({},this._headers,t.headers),t.method=t.method?t.method.toUpperCase():"GET",this._connection.request(t,e)}},{key:"get",value:function(t,e,n,o){return"string"!=typeof t&&(o=e,e=t,t=void 0),"function"==typeof e&&(o=e,e=void 0),"function"==typeof n&&(o=n,n=void 0),t?this._path&&"/"!==t.charAt(0)&&(t="/"+t):t="",n=n?r({},this._headers,n):r({},this._headers),this._connection.request({basePath:this._path,path:t,qs:e,headers:n,method:"GET"},o)}},{key:"post",value:function(t,e,n,o,i){return"string"!=typeof t&&(i=n,n=e,e=t,t=void 0),"function"==typeof n&&(i=n,n=void 0),"function"==typeof e&&(i=e,e=void 0),"function"==typeof o&&(i=o,o=void 0),t?this._path&&"/"!==t.charAt(0)&&(t="/"+t):t="",o=o?r({},this._headers,o):r({},this._headers),this._connection.request({basePath:this._path,path:t,body:e,qs:n,headers:o,method:"POST"},i)}},{key:"put",value:function(t,e,n,o,i){return"string"!=typeof t&&(i=e,e=n,n=t,t=void 0),"function"==typeof n&&(i=n,n=void 0),"function"==typeof e&&(i=e,e=void 0),"function"==typeof o&&(i=o,o=void 0),t?this._path&&"/"!==t.charAt(0)&&(t="/"+t):t="",o=o?r({},this._headers,o):r({},this._headers),this._connection.request({basePath:this._path,path:t,body:e,qs:n,headers:o,method:"PUT"},i)}},{key:"patch",value:function(t,e,n,o,i){return"string"!=typeof t&&(i=e,e=n,n=t,t=void 0),"function"==typeof n&&(i=n,n=void 0),"function"==typeof e&&(i=e,e=void 0),"function"==typeof o&&(i=o,o=void 0),t?this._path&&"/"!==t.charAt(0)&&(t="/"+t):t="",o=o?r({},this._headers,o):r({},this._headers),this._connection.request({basePath:this._path,path:t,body:e,qs:n,headers:o,method:"PATCH"},i)}},{key:"delete",value:function(t,e,n,o){return"string"!=typeof t&&(o=e,e=t,t=void 0),"function"==typeof e&&(o=e,e=void 0),"function"==typeof n&&(o=n,n=void 0),t?this._path&&"/"!==t.charAt(0)&&(t="/"+t):t="",n=n?r({},this._headers,n):r({},this._headers),this._connection.request({basePath:this._path,path:t,qs:e,headers:n,method:"DELETE"},o)}},{key:"head",value:function(t,e,n,o){return"string"!=typeof t&&(o=e,e=t,t=void 0),"function"==typeof e&&(o=e,e=void 0),"function"==typeof n&&(o=n,n=void 0),t?this._path&&"/"!==t.charAt(0)&&(t="/"+t):t="",n=n?r({},this._headers,n):r({},this._headers),this._connection.request({basePath:this._path,path:t,qs:e,headers:n,method:"HEAD"},o)}}]),t}();e.default=a},function(t,e,n){"use strict";t.exports=n(39)},function(t,e,n){"use strict";var o=n(40);e.operation=function(t){var n=e.timeouts(t);return new o(n,{forever:t&&t.forever,unref:t&&t.unref})},e.timeouts=function(t){if(t instanceof Array)return[].concat(t);var e={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in t)e[n]=t[n];if(e.minTimeout>e.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var o=[],r=0;r<e.retries;r++)o.push(this.createTimeout(r,e));return t&&t.forever&&!o.length&&o.push(this.createTimeout(r,e)),o.sort(function(t,e){return t-e}),o},e.createTimeout=function(t,e){var n=e.randomize?Math.random()+1:1,o=Math.round(n*e.minTimeout*Math.pow(e.factor,t));return o=Math.min(o,e.maxTimeout)},e.wrap=function(t,n,o){if(n instanceof Array&&(o=n,n=null),!o){o=[];for(var r in t)"function"==typeof t[r]&&o.push(r)}for(var i=0;i<o.length;i++){var a=o[i],u=t[a];t[a]=function(){var o=e.operation(n),r=Array.prototype.slice.call(arguments),i=r.pop();r.push(function(t){o.retry(t)||(t&&(arguments[0]=o.mainError()),i.apply(this,arguments))}),o.attempt(function(){u.apply(t,r)})},t[a].options=n}}},function(t,e,n){"use strict";function o(t,e){"boolean"==typeof e&&(e={forever:e}),this._timeouts=t,this._options=e||{},this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}t.exports=o,o.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},o.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;this._errors.push(t);var e=this._timeouts.shift();if(void 0===e){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),e=this._timeouts.shift()}var n=this,o=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),this._options.unref&&n._timeout.unref()),n._fn(n._attempts)},e);return this._options.unref&&o.unref(),!0},o.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._fn(this._attempts)},o.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)},o.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)},o.prototype.start=o.prototype.try,o.prototype.errors=function(){return this._errors},o.prototype.attempts=function(){return this._attempts},o.prototype.mainError=function(){if(0===this._errors.length)return null;for(var t={},e=null,n=0,o=0;o<this._errors.length;o++){var r=this._errors[o],i=r.message,a=(t[i]||0)+1;t[i]=a,a>=n&&(e=r,n=a)}return e}},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.EdgeCollection=e.VertexCollection=void 0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=n(1),c=function(t){function e(t,n,i){o(this,e);var a=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return a.type=s._types.DOCUMENT_COLLECTION,a.graph=i,a._gharial=a._api.route("/gharial/"+a.graph.name+"/vertex"),a}return i(e,t),u(e,[{key:"_documentPath",value:function(t){return"/document/"+this._documentHandle(t)}},{key:"remove",value:function(t,e){var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._gharial.delete("/"+this._documentHandle(t),function(t,e){return t?r(t):r(null,e.body)}),o}},{key:"vertex",value:function(t,e){var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._gharial.get("/"+this._documentHandle(t),function(t,e){return t?r(t):r(null,e.body)}),o}},{key:"save",value:function(t,e){var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._gharial.post(this.name,t,function(t,e){return t?r(t):r(null,e.body)}),o}}]),e}(s._BaseCollection),l=function(t){function e(t,n,i){o(this,e);var a=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return a.type=s._types.EDGE_COLLECTION,a.graph=i,a._gharial=a._api.route("/gharial/"+a.graph.name+"/edge"),a}return i(e,t),u(e,[{key:"remove",value:function(t,e){var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._gharial.delete("/"+this._documentHandle(t),function(t,e){return t?r(t):r(null,e.body)}),o}},{key:"edge",value:function(t,e){var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._gharial.get("/"+this._documentHandle(t),function(t,e){return t?r(t):r(null,e.body)}),o}},{key:"save",value:function(t,e,n,o){"function"==typeof e?(o=e,e=void 0):e&&(t._from=this._documentHandle(e),t._to=this._documentHandle(n));var r=this._connection.promisify(o),i=r.promise,a=r.callback;return this._gharial.post(this.name,t,function(t,e){return t?a(t):a(null,e.body)}),i}}]),e}(s.EdgeCollection),f=function(){function t(e,n){o(this,t),this.name=n,this._connection=e,this._api=this._connection.route("/_api"),this._gharial=this._api.route("/gharial/"+this.name)}return u(t,[{key:"get",value:function(t){var e=this._connection.promisify(t),n=e.promise,o=e.callback;return this._gharial.get(function(t,e){return t?o(t):o(null,e.body.graph)}),n}},{key:"create",value:function(t,e){"function"==typeof t&&(e=t,t=void 0);var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._api.post("/gharial",a({},t,{name:this.name}),function(t,e){return t?r(t):r(null,e.body.graph)}),o}},{key:"drop",value:function(t,e){"function"==typeof t&&(e=t,t=void 0),"boolean"!=typeof t&&(t=!1);var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._gharial.delete({dropCollections:t},function(t,e){return t?r(t):r(null,e.body)}),o}},{key:"vertexCollection",value:function(t){return new c(this._connection,t,this)}},{key:"addVertexCollection",value:function(t,e){var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._gharial.post("/vertex",{collection:t},function(t,e){return t?r(t):r(null,e.body.graph)}),o}},{key:"removeVertexCollection",value:function(t,e,n){"function"==typeof e&&(n=e,e=void 0);var o=this._connection.promisify(n),r=o.promise,i=o.callback;return"boolean"!=typeof e&&(e=!1),this._gharial.delete("/vertex/"+t,{dropCollection:e},function(t,e){return t?i(t):i(null,e.body.graph)}),r}},{key:"edgeCollection",value:function(t){return new l(this._connection,t,this)}},{key:"addEdgeDefinition",value:function(t,e){var n=this._connection.promisify(e),o=n.promise,r=n.callback;return this._gharial.post("/edge",t,function(t,e){return t?r(t):r(null,e.body.graph)}),o}},{key:"replaceEdgeDefinition",value:function(t,e,n){var o=this._connection.promisify(n),r=o.promise,i=o.callback;return this._gharial.put("/edge/"+t,e,function(t,e){return t?i(t):i(null,e.body.graph)}),r}},{key:"removeEdgeDefinition",value:function(t,e,n){"function"==typeof e&&(n=e,e=void 0);var o=this._connection.promisify(n),r=o.promise,i=o.callback;return"boolean"!=typeof e&&(e=!1),this._gharial.delete("edge/"+t,{dropCollection:e},function(t,e){return t?i(t):i(null,e.body.graph)}),r}},{key:"traversal",value:function(t,e,n){"function"==typeof e&&(n=e,e=void 0);var o=this._connection.promisify(n),r=o.promise,i=o.callback;return this._api.post("/traversal",a({},e,{startVertex:t,graphName:this.name}),function(t,e){return t?i(t):i(null,e.body.result)}),r}}]),t}();e.default=f,e.VertexCollection=c,e.EdgeCollection=l},function(t,e,n){"use strict";function o(t,e){var n=[],o=t.length,r=!1;if(0===t.length)return e(null,n);var i=function(t){return function(i,a){if(o-=1,i||(n[t]=a),!r){if(i)e(i);else{if(0!==o)return;n.every(function(t){return void 0===t})?e(null):e(null,n)}r=!0}}};t.forEach(function(t,e){return t(i(e))})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o},function(t,e,n){"use strict";(function(t){function n(e,n){var r=void 0;try{r=new t.FormData;var i=!0,a=!1,u=void 0;try{for(var s,c=Object.keys(e)[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=s.value,f=e[l];void 0!==f&&(f instanceof t.Blob||"object"!==(void 0===f?"undefined":o(f))&&"function"!=typeof f||(f=JSON.stringify(f)),r.append(l,f))}}catch(t){a=!0,u=t}finally{try{!i&&c.return&&c.return()}finally{if(a)throw u}}}catch(t){return void n(t)}n(null,{body:r})}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=n}).call(e,n(0))},function(t,e,n){"use strict";function o(t){for(var e={},n=[],o=t[0],r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];for(var u=0;u<i.length;u++){var s=i[u],c=s;if(s&&"function"==typeof s.toAQL)o+=""+s.toAQL()+t[u+1];else{var l=n.indexOf(s),f=-1!==l,p="value"+(f?l:n.length);s&&s.isArangoCollection&&(p="@"+p,c=s.name),f||(n.push(s),e[p]=c),o+="@"+p+t[u+1]}}return{query:o,bindVars:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o}])});